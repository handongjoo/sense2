<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>::: 장바구니 (가칭) :::</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <style>
        main {    
    width: 1460px;
    margin: 30px auto;
}

.cart_list {
    position: relative;
    width: 22.5%;
    height: 360px;
    margin: 15px 1.25%;
    background-color: var(--sub-color-1);
    float: left;
}

.cart_list:hover {
    box-shadow: 3px 3px 9px 1px var(--sub-color-2);

}

.cart_list>img {
    width: 100%;
    height: 55%;
}

.cart_list_bottom {
    padding: 10px 15px;
}

.extra {
    color: var(--main-color);
    font-weight: 300;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
}

.cart_btn {
    /* position: absolute; */
    bottom: 10px;
    width: 120px;
    height: 30px;
    background-color: var(--point-color);
    color: #fff;
    border-radius: 15px;
    text-align: center;
    cursor: pointer;
    margin: auto;
    padding: auto;
}

.cart_btn:hover {
    background-color: var(--sub-color-1);
    color: var(--point-color);
    border: 2px solid var(--point-color);
}

.cart_list_bottom {
    padding: auto;
    margin: auto;
    text-align: center;
}
    </style>
    <header>
      <div class="header_wrap" id="header_wrap" name="header_wrap">
      </header>
      <main id="cart_list_id">      
        <div class="cart_list">
            <img
            src="https://online.spartacodingclub.kr/assets/images/classroom/sql_classroom_thumbnail_beom.png"
            alt=""
            />
            <div class="cart_list_bottom">
                <input type="hidden" class="cart_id" value="${cart_id}" />
                <p class="extra">
                혼자 공부하는 타입스크립트
                </p>
                  <input
                  class="cart_btn"
                  type="button"
                  name="cart_start"
                  value="수강"
                  onclick="start_run()"
                  />
                  <input
                  class="cart_btn"
                  type="button"
                  name="cart_start"
                  value="장바구니 삭제"
                  onclick="cancle_run()"
                  />
            </div>
        </div>

    </main>
    <script defer src="./static/js/cart_list.js"></script>
    <script defer src="./static/js/header_shop.js"></script>
    <script>
      function start_run() {
        $.ajax({
          type: "post",
          url: "/api/cart/cart",
          data: {
      
          },
          success: function (response) {
            alert("장바구니 성공!");
          },
          error: function (error) {
            alert("알 수 없는 이유로 실행되지 않았습니다. 관리자에게 문의해 주세요.");
          },
        });
          }
          
      function cancle_run() {
        const user_id = 1;
        const lecture_id = 5;
        $.ajax({
          type: "POST",
          url: "/api/cart/cart_id",
          data: {
           user_id,
           lecture_id,
          },
          success: function (response) {
            alert("장바구니에서 삭제하였습니다.");
          },
          error: function (error) {
            alert("알 수 없는 이유로 실행되지 않았습니다. 관리자에게 문의해 주세요.");
            console.log(error);
          },
        });
      }
    </script>
  </body>
  <script src="/static/js/cart_list.js"></script>
</html>
